<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Binomial Outcome â€¢ bayesCT</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Binomial Outcome">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bayesCT</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/bayesCT.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/binomial.html">Binomial Outcome</a>
    </li>
    <li>
      <a href="../articles/normal.html">Normal Outcome</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/thevaachandereng/bayesCT">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Binomial Outcome</h1>
                        <h4 class="author">Thevaa Chandereng, Donald Musgrove, Tarek Haddad, Graeme Hickey, Timothy Hanson, Theodore Lystig</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/thevaachandereng/bayesCT/blob/master/vignettes/binomial.Rmd"><code>vignettes/binomial.Rmd</code></a></small>
      <div class="hidden name"><code>binomial.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The purpose of this vignette is to introduce how to simulate and analyze an adaptive bayesian clinical trial for binomial outcomes. The simulation section compromise of the design of the trial itself which provides a type I error rate and power at each interim look. We use the beta-binomial conjugate for the estimation of posterior probabilities. The historical data is used as an informative prior and we use <code>bayesDP</code> as an engine to incorporate the historical data. The default model uses a non-informative prior of <span class="math inline">\(Beta(a = 1, b = 1)\)</span> with/without the incorporation of historical data.</p>
</div>
<div id="design" class="section level1">
<h1 class="hasAnchor">
<a href="#design" class="anchor"></a>Design</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">value &lt;-</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="st">   </span><span class="kw">binomial_outcome</span>(<span class="dt">p_treatment =</span> <span class="fl">0.08</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="st">   </span><span class="kw">enrollment_rate</span>(<span class="dt">lambda =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">0.3</span>, <span class="dv">1</span>), <span class="dt">time =</span> <span class="dv">25</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="st">   </span><span class="kw">study_details</span>(<span class="dt">total_sample_size =</span> <span class="dv">900</span>, <span class="dt">study_period =</span> <span class="dv">50</span>,</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">                 <span class="dt">interim_look =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">                 <span class="dt">prop_loss_to_followup =</span> <span class="fl">0.10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="st">   </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/simulate">simulate</a></span>(<span class="dt">no_of_sim =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"> </a>
<a class="sourceLine" id="cb1-9" data-line-number="9"> <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(value)</a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt; List of 7</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="co">#&gt;  $ power                       :'data.frame':    1 obs. of  2 variables:</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="co">#&gt;   ..$ interim_looks: num 900</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="co">#&gt;   ..$ power        : num 0</span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="co">#&gt;  $ type1_error                 : num 0.2</span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="co">#&gt;  $ est_final                   : num [1:5] 0.0802 0.0747 0.0898 0.0778 0.0835</span></a>
<a class="sourceLine" id="cb1-16" data-line-number="16"><span class="co">#&gt;  $ post_prob_accept_alternative: num [1:5] 0.498 0.275 0.836 0.388 0.626</span></a>
<a class="sourceLine" id="cb1-17" data-line-number="17"><span class="co">#&gt;  $ N_enrolled                  : num [1:5] 900 900 900 900 900</span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="co">#&gt;  $ stop_expect_success         : num [1:5] 0 0 0 0 0</span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="co">#&gt;  $ stop_futility               : num [1:5] 0 0 0 0 0</span></a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">value &lt;-</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="st">  </span><span class="kw">binomial_outcome</span>(<span class="dt">p_treatment =</span> <span class="fl">0.08</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="st">  </span><span class="kw">enrollment_rate</span>(<span class="dt">lambda =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">0.3</span>, <span class="dv">1</span>), <span class="dt">time =</span> <span class="dv">25</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="st">  </span><span class="kw">study_details</span>(<span class="dt">total_sample_size =</span> <span class="dv">900</span>, <span class="dt">study_period =</span> <span class="dv">50</span>,</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">                <span class="dt">interim_look =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">410</span>, <span class="dv">440</span>, <span class="dv">670</span>),</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">                <span class="dt">prop_loss_to_followup =</span> <span class="fl">0.10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/simulate">simulate</a></span>(<span class="dt">no_of_sim =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb2-8" data-line-number="8"></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(value)</a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; List of 7</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt;  $ power                       :'data.frame':    4 obs. of  2 variables:</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt;   ..$ interim_looks: num [1:4] 410 440 670 900</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt;   ..$ power        : num [1:4] 0 0 0 0</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt;  $ type1_error                 : num 0</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt;  $ est_final                   : num [1:2] 0.0857 0.096</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt;  $ post_prob_accept_alternative: num [1:2] 0.676 0.94</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt;  $ N_enrolled                  : num [1:2] 670 900</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt;  $ stop_expect_success         : num [1:2] 0 0</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt;  $ stop_futility               : num [1:2] 1 0</span></a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">value &lt;-</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">  </span><span class="kw">binomial_outcome</span>(<span class="dt">p_treatment =</span> <span class="fl">0.08</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="st">  </span><span class="kw">enrollment_rate</span>(<span class="dt">lambda =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">0.3</span>, <span class="dv">1</span>), <span class="dt">time =</span> <span class="dv">25</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">  </span><span class="kw">study_details</span>(<span class="dt">total_sample_size =</span> <span class="dv">900</span>, <span class="dt">study_period =</span> <span class="dv">50</span>,</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">                <span class="dt">interim_look =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">410</span>, <span class="dv">440</span>, <span class="dv">670</span>),</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">                <span class="dt">prop_loss_to_followup =</span> <span class="fl">0.10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="st">  </span><span class="kw">hypothesis</span>(<span class="dt">delta =</span> <span class="fl">-0.03</span>, <span class="dt">futility_prob =</span> <span class="fl">0.05</span>, <span class="dt">prob_accept_ha =</span> <span class="fl">0.95</span>, </a>
<a class="sourceLine" id="cb3-9" data-line-number="9">             <span class="dt">expected_success_prob =</span> <span class="fl">0.90</span>, <span class="dt">alternative =</span> <span class="st">"less"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="st">  </span><span class="kw">randomize</span>(<span class="dt">block_size =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">4</span>, <span class="dv">6</span>), <span class="dt">randomization_ratio =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">1</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="st">  </span><span class="kw">impute</span>(<span class="dt">no_of_impute =</span> <span class="dv">25</span>, <span class="dt">number_mcmc =</span> <span class="dv">1000</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="st">  </span><span class="kw">beta_prior</span>(<span class="dt">a0 =</span> <span class="dv">1</span>, <span class="dt">b0 =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="st">  </span><span class="kw">historical_binomial</span>(<span class="dt">y0_treatment =</span> <span class="dv">5</span>, <span class="dt">N0_treatment =</span> <span class="dv">55</span>,</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">                      <span class="dt">discount_function =</span> <span class="st">"identity"</span>, </a>
<a class="sourceLine" id="cb3-15" data-line-number="15">                      <span class="dt">y0_control =</span> <span class="ot">NULL</span>, <span class="dt">N0_control =</span> <span class="ot">NULL</span>, </a>
<a class="sourceLine" id="cb3-16" data-line-number="16">                      <span class="dt">alpha_max =</span> <span class="dv">1</span>, <span class="dt">fix_alpha =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb3-17" data-line-number="17">                       <span class="dt">weibull_scale =</span> <span class="fl">0.135</span>, <span class="dt">weibull_shape =</span> <span class="dv">3</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/simulate">simulate</a></span>(<span class="dt">no_of_sim =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb3-19" data-line-number="19"></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(value)</a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="co">#&gt; List of 7</span></a>
<a class="sourceLine" id="cb3-23" data-line-number="23"><span class="co">#&gt;  $ power                       :'data.frame':    4 obs. of  2 variables:</span></a>
<a class="sourceLine" id="cb3-24" data-line-number="24"><span class="co">#&gt;   ..$ interim_looks: num [1:4] 410 440 670 900</span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"><span class="co">#&gt;   ..$ power        : num [1:4] 0.4 0.4 0.8 0.8</span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26"><span class="co">#&gt;  $ type1_error                 : num 0</span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27"><span class="co">#&gt;  $ est_final                   : num [1:5] 0.0534 0.0836 0.0807 0.0959 0.0783</span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="co">#&gt;  $ post_prob_accept_alternative: num [1:5] 1 0.99 0.971 0.912 0.996</span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"><span class="co">#&gt;  $ N_enrolled                  : num [1:5] 410 670 410 900 670</span></a>
<a class="sourceLine" id="cb3-30" data-line-number="30"><span class="co">#&gt;  $ stop_expect_success         : num [1:5] 1 1 1 0 1</span></a>
<a class="sourceLine" id="cb3-31" data-line-number="31"><span class="co">#&gt;  $ stop_futility               : num [1:5] 0 0 0 0 0</span></a></code></pre></div>
</div>
<div id="analysis" class="section level1">
<h1 class="hasAnchor">
<a href="#analysis" class="anchor"></a>Analysis</h1>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># data(binomialdata)</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co"># </span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co"># value1 &lt;-</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#   data_binomial(data = binomialdata) %&gt;%</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#   historical_binomial(y0_treatment = 5, N0_treatment = 55,</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#                       y0_control = NULL, N0_control = NULL,</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#                       discount_function = "identity", </span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#                       alpha_max = 1, fix_alpha = FALSE, </span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#                       weibull_scale = 0.135, weibull_shape = 3) %&gt;%</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#   beta_prior(a0 = 1, b0 = 1) %&gt;%</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#   impute(no_of_impute = 100, number_mcmc = 10000) %&gt;%</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#   hypothesis(delta = 0.02, futility_prob = 0.05, prob_accept_ha = 0.95, </span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#              expected_success_prob = 0.90, alternative = "greater") %&gt;%</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#   BACTbinomial_analysis()</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co"># </span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co"># </span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co"># str(value1)</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#design">Design</a></li>
      <li><a href="#analysis">Analysis</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Thevaa Chandereng, Donald Musgrove, Tarek Haddad, Graeme Hickey, Timothy Hanson, Theodore Lystig.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
